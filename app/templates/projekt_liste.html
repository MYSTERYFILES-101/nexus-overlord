<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projekt √∂ffnen - NEXUS OVERLORD</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üìÇ PROJEKT √ñFFNEN</h1>
            <p>Projekte verwalten</p>
        </header>

        <main>
            <div class="projekt-liste-container">

                {% if projekte %}
                <div class="projekt-liste-header">
                    <h2>Alle Projekte ({{ projekte|length }})</h2>
                </div>

                <div class="projekt-liste-grid">
                    {% for projekt in projekte %}
                    <a href="/projekt/{{ projekt.id }}" class="projekt-liste-card">
                        <div class="projekt-card-header">
                            <h3>{{ projekt.name }}</h3>
                            <span class="projekt-status-badge projekt-status-{{ projekt.status }}">
                                {% if projekt.status == 'bereit' %}
                                    ‚úÖ BEREIT
                                {% elif projekt.status == 'in_arbeit' %}
                                    üîÑ IN ARBEIT
                                {% elif projekt.status == 'fertig' %}
                                    üéâ FERTIG
                                {% else %}
                                    üìù {{ projekt.status|upper }}
                                {% endif %}
                            </span>
                        </div>

                        {% if projekt.qualitaet_bewertung %}
                        <div class="projekt-card-qualitaet">
                            <span class="qualitaet-label-small">Qualit√§t:</span>
                            <div class="sterne-display-small">
                                {% for i in range(1, 11) %}
                                    {% if i <= projekt.qualitaet_bewertung %}
                                        <span class="stern-small">‚òÖ</span>
                                    {% else %}
                                        <span class="stern-small stern-empty-small">‚òÜ</span>
                                    {% endif %}
                                {% endfor %}
                            </div>
                            <span class="qualitaet-zahl-small">{{ projekt.qualitaet_bewertung }}/10</span>
                        </div>
                        {% endif %}

                        <div class="projekt-card-meta">
                            <span class="projekt-created">üìÖ {{ projekt.created_at[:10] }}</span>
                        </div>
                    </a>
                    {% endfor %}
                </div>

                {% else %}
                <div class="no-data-box">
                    <div class="no-data-icon">üìÇ</div>
                    <h3>Keine Projekte vorhanden</h3>
                    <p>Erstellen Sie Ihr erstes Projekt √ºber die Startseite.</p>
                    <a href="/" class="btn btn-primary">Projekt erstellen</a>
                </div>
                {% endif %}

                <div class="projekt-liste-actions">
                    <a href="/" class="btn btn-secondary">‚Üê Zur√ºck zur Startseite</a>
                </div>

            </div>
        </main>

        <footer>
            <p>NEXUS OVERLORD v2.0 - Phase 4 kommt bald!</p>
        </footer>
    </div>
</body>
</html>
